<manual>
<identity>
## 工具名称
@tool://txt-creator

## 简介
简单快速的文本文件创建工具，专为日常开发中的临时文件创建、测试数据生成和笔记记录而设计
</identity>

<purpose>
⚠️ **AI重要提醒**: 调用此工具前必须完整阅读本说明书，理解工具功能边界、参数要求和使用限制。禁止在不了解工具功能的情况下盲目调用。

## 核心问题定义
解决日常开发中频繁需要快速创建文本文件的痛点，特别是临时文件、测试数据、笔记记录等场景。通过最简洁的接口提供最直接的文件创建功能，让开发者专注于内容而非文件操作。

## 价值主张
- 🎯 **解决什么痛点**：需要用命令行或复杂操作才能创建简单文本文件
- 🚀 **带来什么价值**：一次调用即可在当前目录创建文本文件，提升开发效率
- 🌟 **独特优势**：最简参数设计、智能冲突处理、自动扩展名添加

## 应用边界
- ✅ **适用场景**：
  - 快速创建临时文本文件进行测试
  - 生成简单的笔记和记录文件
  - 创建配置文件的初始版本
  - 在脚本中批量生成文本文件
  - 为其他工具准备输入文件
  - 创建带时间戳的日志或记录文件
  
- ❌ **不适用场景**：
  - 需要复杂格式（如Markdown、HTML、XML）的文档创建
  - 需要特殊编码（非UTF-8）的文件
  - 二进制文件或非文本文件的创建
  - 需要特定权限设置的文件
  - 跨目录或远程路径的文件创建
</purpose>

<usage>
## 使用时机
- 📝 **快速创建需求**：需要立即在当前目录创建文本文件时
- 🗺️ **测试数据准备**：需要为测试准备样本文件时
- 📋 **记录和笔记**：需要快速记录信息或创建笔记文件时
- 🚀 **自动化脚本**：在自动化流程中需要创建输出文件时
- 🔧 **开发调试**：需要创建临时调试文件时

## 操作步骤
1. **参数准备阶段**：
   - 确定要创建的文件名（只需要名称，不需要.txt扩展名）
   - 准备要写入的内容（可选，不提供则创建空文件）
   - 决定是否需要时间戳避免文件名冲突

2. **执行创建阶段**：
   - 调用工具传入参数
   - 系统自动检查文件名的合法性
   - 自动添加.txt扩展名（如果未提供）
   - 在当前工作目录创建文件

3. **结果验证阶段**：
   - 检查返回的success字段确认创建成功
   - 查看生成的文件路径和大小
   - 验证文件内容是否符合预期

## 最佳实践
- 🎯 **简单命名**：使用简洁明了的文件名，避免特殊字符
- ⚠️ **冲突处理**：对于可能重复的文件名，启用timestamp参数
- 🔧 **内容预设**：不提供内容时，系统自动生成带时间戳的默认内容
- 📊 **批量操作**：可结合循环实现多文件批量创建
- 🔄 **状态检查**：始终检查返回的success字段确认操作结果

## 注意事项
- **文件名限制**：不支持特殊字符: < > : " / \\ | ? *
- **目录限制**：只能在当前工作目录创建文件，不支持跨目录操作
- **权限要求**：需要对当前目录的写入权限
- **编码格式**：所有文件都使用UTF-8编码保存
- **存在性检查**：默认不覆盖已存在的文件，可使用timestamp参数避免冲突
</usage>

<parameter>
## 必需参数
| 参数名 | 类型 | 描述 | 示例 |
|--------|------|------|------|
| filename | string | 文件名（自动添加.txt扩展名） | "mynote" |

## 可选参数
| 参数名 | 类型 | 默认值 | 描述 |
|--------|------|--------|----------|
| content | string | "" | 文件内容（空时自动生成默认内容） |
| timestamp | boolean | false | 是否在文件名中添加时间戳 |

## 参数约束
- **文件名格式**：filename不能包含非法字符: < > : " / \\ | ? *
- **文件名长度**：最大200字符
- **内容类型**：content必须是字符串类型
- **扩展名自动处理**：如果文件名未以.txt结尾，会自动添加

## 参数示例
### 简单文件创建
```json
{
  "filename": "test"
}
```

### 带内容的文件创建
```json
{
  "filename": "notes",
  "content": "这是我的笔记内容\n\n1. 第一条记录\n2. 第二条记录"
}
```

### 带时间戳的文件创建
```json
{
  "filename": "log",
  "content": "系统执行日志\n\n开始时间: 2024-01-01 12:00:00",
  "timestamp": true
}
```

### 空文件创建（自动默认内容）
```json
{
  "filename": "empty",
  "content": ""
}
```

### 批量创建示例
```json
{
  "filename": "batch_file_001",
  "content": "批量生成的文件 #1",
  "timestamp": true
}
```
</parameter>

<outcome>
## 成功返回格式
```json
{
  "success": true,
  "message": "成功创建文件: test.txt",
  "filePath": "/Users/workspace/test.txt",
  "filename": "test.txt",
  "size": 45,
  "contentLength": 42,
  "timestamp": false,
  "directory": "/Users/workspace"
}
```

## 错误处理格式
```json
{
  "success": false,
  "error": "文件已存在",
  "message": "文件 test.txt 已存在。可使用 timestamp: true 避免冲突。",
  "suggestion": "设置 timestamp: true 或使用不同的文件名"
}
```

## 常见错误情况
```json
{
  "success": false,
  "error": "文件名包含非法字符: < > : \" / \\ | ? *",
  "message": "文件创建失败",
  "suggestion": "请检查文件名是否有效，以及是否有写入权限"
}
```

## 结果解读指南
### 成功指标
- **success: true**：文件创建成功
- **filePath**：文件的绝对路径，可用于后续操作
- **size**：文件大小（字节），用于验证内容写入
- **contentLength**：内容长度，应与size基本一致（UTF-8编码）

### 文件名处理规则
- **自动扩展名**：输入"test"输出"test.txt"
- **时间戳格式**："log_20241201_143022.txt"（YYYYMMDD_HHMMSS）
- **大小写保持**：输入的大小写会在文件名中保持

### 内容处理逻辑
- **空内容（content: ""）**：创建真正的空文件
- **无内容参数**：自动生成带标题和时间的默认内容
- **换行符**：支持\n转义字符进行换行

## 后续动作建议
### 创建成功后
1. **文件验证**：检查生成的文件是否在预期位置和内容正确
2. **后续编辑**：可使用文本编辑器或其他工具继续编辑文件
3. **路径记录**：保存filePath用于后续的自动化操作
4. **批量操作**：可基于此结果进行批量文件创建

### 创建失败时
1. **文件名检查**：验证文件名是否包含非法字符
2. **权限检查**：确认对当前目录有写入权限
3. **冲突解决**：对于文件已存在的情况，启用timestamp参数
4. **重试策略**：修改参数后可以立即重试

### 性能优化建议
1. **批量创建**：对于大量文件，可使用timestamp避免逐个检查冲突
2. **内容预处理**：对于复杂内容，先在内存中构建再传入
3. **错误处理**：建立统一的错误处理机制处理各种异常情况
4. **日志记录**：在批量操作中记录成功和失败的文件数量
</outcome>
</manual>